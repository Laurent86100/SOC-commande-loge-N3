<!DOCTYPE html>
<html>
<head>
   <title>Commande Loge N3</title>
   <style>
       body {
           margin: 0;
           padding: 0;
           font-family: Arial, sans-serif;
       }

       .header {
           background: linear-gradient(to bottom, rgb(255, 0, 0), white);
           height: 100px;
           display: flex;
           justify-content: center;
           align-items: center;
           color: white;
           position: relative;
           text-align: center;
       }

       .header:before {
           content: "SO Châtellerault - Saison 2023/2024";
           font-family: Arial, sans-serif;
           font-size: 30px;
           font-weight: bold;
           color: white;
           position: absolute;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           padding: 10px;
       }

       .informations-commandes, .information, .commande {
           font-weight: bold;
           color: red;
           text-decoration: underline;
           font-family: "Times New Roman", serif;
           font-size: 24px;
       }

       select {
           font-family: "Courier New", monospace;
           font-size: 16px;
       }

       .footer {
           display: none;
       }

       /* Modal styles */
       .modal {
           display: none;
           position: fixed;
           z-index: 1;
           left: 0;
           top: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0,0,0,0.4);
       }

       .modal-content {
           background-color: white;
           margin: 15% auto;
           padding: 20px;
           border: 1px solid #888;
           width: 60%;
       }

       .close {
           color: #aaaaaa;
           float: right;
           font-size: 28px;
           font-weight: bold;
       }

       #confirm-button {
           background-color: green;
           color: white;
           padding: 10px 20px;
           margin-right: 10px;
           border: none;
           cursor: pointer;
       }
   </style>
   <script>
       function calculateTotal() {
           var quantiteBiere = parseInt(document.getElementById("quantiteBiere").value);
           var quantitePlateauCharcuterie = parseInt(document.getElementById("quantitePlateauCharcuterie").value);
           var quantitePlateauLegumes = parseInt(document.getElementById("quantitePlateauLegumes").value);

           var prixBiere = 8;
           var prixCCharcuterie = 6;
           var prixCLegumes = 5;

           var totalBiere = quantiteBiere * prixBiere;
           var totalCCharcuterie = quantitePlateauCharcuterie * prixCCharcuterie;
           var totalCLegumes = quantitePlateauLegumes * prixCLegumes;

           var total = totalBiere + totalCCharcuterie + totalCLegumes;

           var message = "Détails de la commande:\n\n";
           message += "Quantité de Bière: " + quantiteBiere + " x " + prixBiere + "€ = " + totalBiere + "€\n";
           message += "Quantité de Plateau Charcuterie: " + quantitePlateauCharcuterie + " x " + prixCCharcuterie + "€ = " + totalCCharcuterie + "€\n";
           message += "Quantité de Plateau Légumes: " + quantitePlateauLegumes + " x " + prixCLegumes + "€ = " + totalCLegumes + "€\n\n";
           message += "Total: " + total + "€";

           var confirmButton = document.getElementById("confirm-button");
           confirmButton.setAttribute("data-message", message);
           document.getElementById("modal-message").textContent = message;
       }

       function openModal() {
           var modal = document.getElementById("modal");
           modal.style.display = "block";
       }

       function closeModal() {
           var modal = document.getElementById("modal");
           modal.style.display = "none";
       }

       function confirmOrder() {
           var message = document.getElementById("confirm-button").getAttribute("data-message");
           if (confirm("Confirmer la commande avec les détails suivants:\n\n" + message)) {
               document.getElementById("sandwich-form").submit();
           }
       }
   </script>
</head>
<body>
   <div class="header"></div>

   <h1>Commande Loge N3</h1>

   <form id="sandwich-form" action="https://formspree.io/f/xgejkjly" method="POST" onsubmit="return validateForm();">
      
       <div class="informations-commandes">
           Informations Commandes:
       </div>
      
       <label for="nom">Nom</label>
       <input type="text" id="nom" name="Nom de la commande:" required><br><br>

       <label for="numeroLoge">Numéro de loge :</label>
       <select id="numeroLoge" name="Numéro de loge:">
           <option value="" selected disabled>Choisir...</option>
           <option value="1">1</option>
           <option value="2">2</option>
           <option value="3">3</option>
           <option value="4">4</option>
           <option value="5">5</option>
           <option value="6">6</option>
           <option value="7">7</option>
           <option value="8">8</option>
       </select><br><br>

       <div class="information">
           Tarifs et condition de vente :
       </div>
       <div>
           Pichet de bière 1 litre : 8€<br>
           Plateau charcuterie : 6€<br>
           Plateau légume : 5€<br><br>
       </div>

       <div class="commande">
           Commande :
       </div>
       <label for="quantiteBiere">Quantité de Bière (0-5) :</label>
       <select id="quantiteBiere" name="Quantité de Bière:" onchange="calculateTotal()">
           <option value="0">0</option>
           <option value="1">1</option>
           <option value="2">2</option>
           <option value="3">3</option>
           <option value="4">4</option>
           <option value="5">5</option>
       </select><br>

       <label for="quantitePlateauCharcuterie">Quantité de Plateau Charcuterie (0-5) :</label>
       <select id="quantitePlateauCharcuterie" name="Quantité de Plateau Charcuterie:" onchange="calculateTotal()">
           <option value="0">0</option>
           <option value="1">1</option>
           <option value="2">2</option>
           <option value="3">3</option>
           <option value="4">4</option>
           <option value="5">5</option>
       </select><br>

       <label for="quantitePlateauLegumes">Quantité de Plateau Légumes (0-5) :</label>
       <select id="quantitePlateauLegumes" name="Quantité de Plateau Légumes:" onchange="calculateTotal()">
           <option value="0">0</option>
           <option value="1">1</option>
           <option value="2">2</option>
           <option value="3">3</option>
           <option value="4">4</option>
           <option value="5">5</option>
       </select><br><br>

       <input type="hidden" name="_subject" value="Nouvelle commande">
       <input type="submit" value="Passer la commande" onclick="openModal(); return false;">
   </form>

   <div class="footer"></div>

   <!-- Modal -->
   <div id="modal" class="modal">
       <div class="modal-content">
           <span class="close" onclick="closeModal()">&times;</span>
           <p id="modal-message"></p>
           <button id="confirm-button" onclick="confirmOrder()">Confirmer</button>
           <button onclick="closeModal()">Revenir</button>
       </div>
   </div>
</body>
</html>
